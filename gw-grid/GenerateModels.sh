# To be used with the GenerateSimulation.c
# file as part of the LALSuite package. 

# -=-=-=--=-=-=-=-=-=-=-=-=-=-=-
# input params
# -=-=-=--=-=-=-=-=-=-=-=-=-=-=-

fmin=20.        # minimum frequency
fmax=1000.      # maximum frequency
s1x=0.          # spin,x of mass,1 
s2x=0.          # spin,x of mass,2 
s1y=0.          # spin,y of mass,1 
s2y=0.          # spin,y of mass,2 
s1z=0.          # spin,z of mass,1 
s2z=0.          # spin,z of mass,2 
lam1=0.
lam2=0.
srate=16384.    # sampling rate: 4096. #16384.
inc=0           # inclination
dist=100.       # distance
dom="TD"        # time domain
approx="SEOBNRv2" # approximate/waveform model

# -=-=-=--=-=-=-=-=-=-=-=-=-=-=-
# mass ratio and individual masses
# values taken from values1.txt and values2.txt
# -=-=-=--=-=-=-=-=-=-=-=-=-=-=-

q=2.5 # total mass ratio (used for file name only)
m1=(1.25 1.23561 1.22122 1.20684 1.19248 1.17812 1.16379 1.14948 1.1352 1.12094 1.10672 1.09254 1.0784 1.0643 1.05025 1.03625 1.02231 1.00843 0.9946 0.98085 0.96716 0.95354 0.94 0.92653 0.91314 0.89984 0.88662 0.87349 0.86045 0.8475 0.83465 0.8219 0.80925 0.7967 0.78425 0.77191 0.75968 0.74756 0.73555 0.72365 0.71187 0.7002 0.68865 0.67723 0.66592 0.65473 0.64366 0.63272 0.6219 0.6112 0.60063 0.59019 0.57987 0.56968 0.55961 0.54968 0.53987 0.53018 0.52063 0.5112 0.5019 0.49273 0.48368 0.47476 0.46597 0.4573 0.44876 0.44035 0.43205 0.42389 0.41584 0.40792 0.40012 0.39245 0.38489 0.37745 0.37013 0.36293 0.35584 0.34887 0.34202 0.33528 0.32865 0.32213 0.31572 0.30943 0.30324 0.29716 0.29118 0.28531 0.27954 0.27387 0.26831 0.26284 0.25748 0.25221 0.24703 0.24195 0.23697 0.23208 0.22727)
m2=(1.25 1.26439 1.27878 1.29316 1.30752 1.32188 1.33621 1.35052 1.3648 1.37906 1.39328 1.40746 1.4216 1.4357 1.44975 1.46375 1.47769 1.49157 1.5054 1.51915 1.53284 1.54646 1.56 1.57347 1.58686 1.60016 1.61338 1.62651 1.63955 1.6525 1.66535 1.6781 1.69075 1.7033 1.71575 1.72809 1.74032 1.75244 1.76445 1.77635 1.78813 1.7998 1.81135 1.82277 1.83408 1.84527 1.85634 1.86728 1.8781 1.8888 1.89937 1.90981 1.92013 1.93032 1.94039 1.95032 1.96013 1.96982 1.97937 1.9888 1.9981 2.00727 2.01632 2.02524 2.03403 2.0427 2.05124 2.05965 2.06795 2.07611 2.08416 2.09208 2.09988 2.10755 2.11511 2.12255 2.12987 2.13707 2.14416 2.15113 2.15798 2.16472 2.17135 2.17787 2.18428 2.19057 2.19676 2.20284 2.20882 2.21469 2.22046 2.22613 2.23169 2.23716 2.24252 2.24779 2.25297 2.25805 2.26303 2.26792 2.27273)

# q = 3.96223
# m1 = (1.98112 1.95831 1.93551 1.91272 1.88995 1.8672 1.84448 1.8218 1.79916 1.77657 1.75403 1.73156 1.70914 1.6868 1.66454 1.64235 1.62025 1.59825 1.57634 1.55454 1.53284 1.51126 1.48979 1.46845 1.44723 1.42615 1.4052 1.38439 1.36372 1.3432 1.32283 1.30262 1.28257 1.26268 1.24295 1.22339 1.20401 1.1848 1.16576 1.14691 1.12823 1.10975 1.09144 1.07333 1.05541 1.03767 1.02013 1.00279 0.98564 0.96869 0.95194 0.93539 0.91903 0.90288 0.88693 0.87118 0.85563 0.84028 0.82514 0.8102 0.79546 0.78092 0.76658 0.75245 0.73851 0.72478 0.71124 0.6979 0.68476 0.67182 0.65907 0.64651 0.63415 0.62198 0.61001 0.59822 0.58662 0.5752 0.56397 0.55293 0.54206 0.53138 0.52087 0.51054 0.50039 0.49041 0.4806 0.47096 0.46149 0.45218 0.44304 0.43406 0.42524 0.41658 0.40807 0.39972 0.39152 0.38347 0.37557 0.36781 0.3602) 
# m2 = (1.98112 2.00392 2.02673 2.04951 2.07229 2.09503 2.11775 2.14043 2.16307 2.18566 2.2082 2.23068 2.25309 2.27543 2.2977 2.31988 2.34198 2.36398 2.38589 2.40769 2.42939 2.45097 2.47244 2.49378 2.515 2.53609 2.55704 2.57785 2.59851 2.61903 2.6394 2.65961 2.67966 2.69956 2.71928 2.73884 2.75822 2.77744 2.79647 2.81533 2.834 2.85249 2.87079 2.8889 2.90683 2.92456 2.9421 2.95944 2.97659 2.99354 3.01029 3.02685 3.0432 3.05935 3.07531 3.09106 3.1066 3.12195 3.13709 3.15204 3.16678 3.18131 3.19565 3.20979 3.22372 3.23746 3.25099 3.26433 3.27747 3.29042 3.30316 3.31572 3.32808 3.34025 3.35223 3.36402 3.37562 3.38703 3.39826 3.40931 3.42017 3.43086 3.44136 3.45169 3.46184 3.47182 3.48163 3.49127 3.50074 3.51005 3.51919 3.52817 3.53699 3.54565 3.55416 3.56251 3.57071 3.57876 3.58666 3.59442 3.60203)

# indices of m1, m2
idx = (0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100)

# -=-=-=--=-=-=-=-=-=-=-=-=-=-=-
# given above params, run simulations
# if one run fails, exit 
# -=-=-=--=-=-=-=-=-=-=-=-=-=-=-

for i in idx;
do
	cmd="./GenerateSimulation --domain $dom --approximant $approx --outname simulation-$dom-$approx-$q-${m2[i]}.dat --m1 ${m1[i]} --m2 ${m2[i]} --tidal-lambda1 $lam1 --tidal-lambda2 $lam2 --f-min $fmin --phase-order -1 --amp-order -1 --distance $dist --sample-rate $srate --inclination $inc"
    echo Running: $cmd
    $cmd
    if [ $? = 0 ]; then
        echo Success.
    else
        echo Error occurred. Return code: $?
        exit 1
    fi
done

# -=-=-=--=-=-=-=-=-=-=-=-=-=-=-
# copy files to a new directory
# -=-=-=--=-=-=-=-=-=-=-=-=-=-=-

filenames = simulation-TD-SEOBNRv2-*
tar_dir = /home/dylan/Documents/
cmd="cp ${filenames} ${tar_dir}"
echo "copying files"
$cmd


